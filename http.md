# HTTP



## 1. 概要



### 1.1. 定义

HTTP（Hyper Text Transfer Protocol，超文本传输协议）最早就是计算机与计算机之间沟通的一种标准协议，这种协议限制了通讯**内容格式**以及各项**内容的含义**。

主动被动问题

![](D:\GitHub\Web\img\HTTP传输.png)

随着时代的发展，技术的变迁，这种协议现在广泛的应用在各种领域，也不仅仅局限于计算机与计算机之间，手机，电视等各种智能设备很多时候都在使用这个协议通讯，所以一般现在称 **HTTP 为端与端之间的通讯协议**。

Web 属于B/S 架构的应用软件，在 B/S 架构中，浏览器与服务器沟通的协议就是 HTTP 协议，作为一个合格的 Web 开发者，了解 HTTP 协议中约定的内容是一门必修课。

> 应用软件架构一般分为两类：
>
> + B/S 架构：Browser（浏览器）←→ server（服务器），这种软件是通过浏览器访问一个网站使用，服务器提供数据储存等服务。
> + C/S 架构：Client（客户端）←→ server（服务器），这种软件通过安装一个软件到电脑，然后使用，服务器提供数据存储等服务。

### 1.2. 约定内容

+ 请求 / 响应报文格式
+ 请求方法 —— GET / POST / etc....
+ 响应状态 —— 200（一切OK） / 404（找不到） / 302（跳转） / 304（服务端的文件没有修改） / ect...
+ 预设的请求 / 响应头



### 1.3. 约定形式

1. 客户端通过随机端口与服务端某个固定端口（一般为80,https为443）**建立连接 **三次握手（确保连接是 可靠的）
2. 客户端通过连接 **发送请求**到服务端（这里请求是名词）
3. 服务端监听端口得到的客户端发过来的请求
4. 服务端通过连接响应给客户端状态和内容 

> 每次打开一个页面都脑部这个画面，默认流程。

## 2. 核心概念

### 2.1. 报文

#### 2.1.1. 请求报文

![ ](D:\GitHub\Web\img\请求报文.png)

![](D:\GitHub\Web\img\请求报文格式.png)

请求行

`GET /demo.php HTTP/1.1`

请求方式 + 空格 + 请求路径 + 空格 + HTTP 协议版本

请求头

客户端想要告诉服务端给一些额外的信息，一下为常见的请求头：

| 键              | 值                                       |
| --------------- | ---------------------------------------- |
| Host            | 请求主机                                 |
| Cache-Contorl   | 控制缓存（例如： max-age=60 缓存 60 秒） |
| Accept          | 客户端想要接收的文档类型，逗号分离       |
| User-Agent      | bioassay什么客户端帮你发送的这次请求     |
| Referer         | 这次请求的来源                           |
| Accept-Encoding | 可以接受的压缩编码                       |
| Cookie          | 客户端本地的小票地址                     |

请求体

这次请求客户端想要发送给服务端的数据正文，一般在GET中很少用到，因为GET请求主观上都是去“拿东西”。

#### 2.1.2. 响应报文

![](D:\GitHub\Web\img\响应报文.png)

状态行

`HTTP 1.1 200 OK `

HTTP 协议版本+状态码+空格+状态描述

响应头

服务器想告诉客户端的一些额外信息，常见的有一下：

| 键     | 值         |
| ------ | ---------- |
| Data   | 响应时间   |
| Server | 服务器信息 |
|        |            |
|        |            |
|        |            |
|        |            |
|        |            |

